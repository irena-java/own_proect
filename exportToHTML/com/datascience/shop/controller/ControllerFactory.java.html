<html>
<head>
<title>ControllerFactory.java</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #cc7832;}
.s1 { color: #a9b7c6;}
.s2 { color: #6a8759;}
.s3 { color: #808080;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
ControllerFactory.java</font>
</center></td></tr></table>
<pre><span class="s0">package </span><span class="s1">com.datascience.shop.controller</span><span class="s0">;</span>

<span class="s0">import </span><span class="s1">javax.servlet.http.HttpServletRequest</span><span class="s0">;</span>
<span class="s0">import </span><span class="s1">java.util.HashMap</span><span class="s0">;</span>
<span class="s0">import </span><span class="s1">java.util.Map</span><span class="s0">;</span>

<span class="s0">public class </span><span class="s1">ControllerFactory {</span>

    <span class="s0">private final </span><span class="s1">Map&lt;String</span><span class="s0">, </span><span class="s1">Controller&gt; controllerMap = </span><span class="s0">new </span><span class="s1">HashMap&lt;&gt;()</span><span class="s0">;</span>

    <span class="s0">private void </span><span class="s1">init() {</span>
        <span class="s1">controllerMap.put(</span><span class="s2">&quot;GET/profile&quot;</span><span class="s0">, new <a href="ShowPageController.java.html">ShowPageController</a></span><span class="s1">(<a href="Controller.java.html">Controller</a>.viewProfile))</span><span class="s0">;</span>
        <span class="s1">controllerMap.put(</span><span class="s2">&quot;GET/login&quot;</span><span class="s0">, new <a href="ShowPageController.java.html">ShowPageController</a></span><span class="s1">(<a href="Controller.java.html">Controller</a>.viewLogin))</span><span class="s0">;</span>
<span class="s3">//        controllerMap.put(&quot;GET/main&quot;, new ShowPageController(&quot;main&quot;));</span>
        <span class="s1">controllerMap.put(</span><span class="s2">&quot;GET/client&quot;</span><span class="s0">, new <a href="ShowPageController.java.html">ShowPageController</a></span><span class="s1">(<a href="Controller.java.html">Controller</a>.viewLogin))</span><span class="s0">;</span>
        <span class="s1">controllerMap.put(</span><span class="s2">&quot;GET/items&quot;</span><span class="s0">, new <a href="ShowAllItemsController.java.html">ShowAllItemsController</a></span><span class="s1">())</span><span class="s0">;</span>
        <span class="s1">controllerMap.put(</span><span class="s2">&quot;GET/addToBasket&quot;</span><span class="s0">, new <a href="AddBasketController.java.html">AddBasketController</a></span><span class="s1">())</span><span class="s0">;</span>
        <span class="s1">controllerMap.put(</span><span class="s2">&quot;GET/basket&quot;</span><span class="s0">, new <a href="ShowBasketController.java.html">ShowBasketController</a></span><span class="s1">())</span><span class="s0">;</span>
        <span class="s1">controllerMap.put(</span><span class="s2">&quot;GET/deleteFromBasket&quot;</span><span class="s0">, new <a href="DeleteFromBasketController.java.html">DeleteFromBasketController</a></span><span class="s1">())</span><span class="s0">;</span>
        <span class="s1">controllerMap.put(</span><span class="s2">&quot;GET/deleteUser&quot;</span><span class="s0">, new <a href="DeleteUserController.java.html">DeleteUserController</a></span><span class="s1">())</span><span class="s0">;</span>
        <span class="s1">controllerMap.put(</span><span class="s2">&quot;GET/users&quot;</span><span class="s0">, new <a href="ShowAllUsersController.java.html">ShowAllUsersController</a></span><span class="s1">())</span><span class="s0">;</span>
        <span class="s1">controllerMap.put(</span><span class="s2">&quot;GET/rates&quot;</span><span class="s0">, new <a href="ShowRatesController.java.html">ShowRatesController</a></span><span class="s1">())</span><span class="s0">;</span>
        <span class="s1">controllerMap.put(</span><span class="s2">&quot;POST/login&quot;</span><span class="s0">, new <a href="LoginController.java.html">LoginController</a></span><span class="s1">())</span><span class="s0">;</span>
    <span class="s1">}</span>

    <span class="s0">public <a href="Controller.java.html">Controller</a> </span><span class="s1">getController(HttpServletRequest request) {</span>
        <span class="s0">if </span><span class="s1">(controllerMap.isEmpty()) {</span>
            <span class="s1">init()</span><span class="s0">;</span>
        <span class="s1">}</span>
        <span class="s0">return </span><span class="s1">controllerMap.get(request.getMethod() + request.getPathInfo())</span><span class="s0">;</span>
    <span class="s1">}</span>
<span class="s1">}</span></pre>
</body>
</html>